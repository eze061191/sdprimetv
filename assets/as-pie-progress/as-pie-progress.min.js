/* 
* modified plugin from https://github.com/tomik23/circular-progress-bar
* modification available in sources folder
*/
var CircularProgressBar=function(){"use strict";function t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function e(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function r(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var n={colorCircle:!1,colorSlice:"#00a1ff",end:264,fontColor:"#365b74",fontSize:"1.6rem",fontWeight:400,lineargradient:!1,number:!0,opacity:10,round:!1,size:200,stroke:10};function i(t,e,r,n){var i=(n-90)*Math.PI/180;return{x:t+r*Math.cos(i),y:e+r*Math.sin(i)}}function o(t,e,r,n,o){var c,a,s,l=i(t,e,r,o),u=i(t,e,r,n),p=o-n<=180?"0":"1";return["M",(c=l.x,a=5,s=new RegExp("^-?\\d+(?:.\\d{0,"+(a||-1)+"})?"),c.toString().match(s)[0]),l.y,"A",r,r,0,p,0,u.x,u.y].join(" ")}return function t(i){var c=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r(this,"initial",(function(t){if("IntersectionObserver"in window){var e=new IntersectionObserver((function(t,e){t.map((function(t){t.isIntersecting&&t.intersectionRatio>.75&&(c.createSvg(t.target),e.unobserve(t.target))}))}),{root:null,rootMargin:"0px",threshold:1});t.map((function(t){e.observe(t)}))}else t.map((function(t){c.createSvg(t)}))})),r(this,"hex2rgb",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r="string"==typeof t?parseInt(t.replace("#",""),16):t;return"rgba(".concat(r>>16,", ").concat((65280&r)>>8,", ").concat(255&r,", ").concat(e/100,")")})),r(this,"progressBar",(function(t,r,n){var i=n.index,o=n.number,a=n.stroke,s=n.round,l=n.lineargradient,u=n.colorSlice,p=n.colorCircle,d=n.opacity,g=n.size;o&&t.appendChild(c.percentElement(n));var f=document.querySelector(".".concat(c.pieName,"-circle-").concat(i)),h={fill:"none",transform:"rotate(0, 50, 50)","stroke-width":a,"stroke-linecap":s?"round":""};c.setAttr(f,h,!1),c.animationTo(e(e({},n),{},{element:f}),!0),f.setAttribute("stroke",l?"url(#linear-".concat(i,")"):u);var m=p?"":"border-radius:50%;box-shadow:inset 0px 0px ".concat(a,"px ").concat(a,"px ").concat(c.hex2rgb(u,d));r.setAttribute("style","width:".concat(g,"px;height:").concat(g,"px;position:relative;").concat(m))})),r(this,"animationTo",(function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=Math.round(t.percent),a=document.querySelector(".".concat(c.pieName,"-circle-").concat(t.index));if(a){var s=JSON.parse(a.getAttribute("data-angel")),l=r?t:e(e({},n),t),u=document.querySelector(".".concat(c.pieName,"-percent-").concat(t.index));if(0==i&&u&&l.number&&(u.textContent="0%",a.setAttribute("stroke-dasharray","0, 20000")),!(i>100||i<=0||s===i)){var p,d=r?0:s,g=function t(){s>=l.percent?d--:d++,p=requestAnimationFrame(t),a.setAttribute("stroke-dasharray",2.64*d+", 20000"),a.setAttribute("d",o(50,50,42,0,3.6*d)),u&&l.number&&(u.textContent="".concat(d,"%")),d===i&&(a.setAttribute("data-angel",d),cancelAnimationFrame(p))};requestAnimationFrame(g)}}})),r(this,"percentElement",(function(t){var e=t.index,r=t.fontSize,n=t.fontWeight,i=t.fontColor,o=document.createElementNS(c.svg,"text"),a={class:"".concat(c.pieName,"-percent-").concat(e," pie_progress__number"),x:"50%",y:"50%","font-size":r,"font-weight":n,fill:i,"text-anchor":"middle","dominant-baseline":"central"};return c.setAttr(o,a,!1),o})),r(this,"createSvg",(function(t){if(!t.querySelector("svg")){var r=JSON.parse(t.getAttribute("data-pie")),i=t.getAttribute("data-index"),o=e(e(e({},n),r),{},{index:i}),a=document.createElementNS(c.svg,"svg"),s={width:o.size,height:o.size,viewBox:"0 0 100 100"};c.setAttr(a,s,!1),o.colorCircle&&a.appendChild(c.circleSvg(o,"bottom")),o.lineargradient&&a.appendChild(c.gradient(o)),a.appendChild(c.circleSvg(o,"top",!0)),t.appendChild(a),c.progressBar(a,t,o)}})),r(this,"gradient",(function(t){var e=t.index,r=t.lineargradient,n=document.createElementNS(c.svg,"defs"),i=document.createElementNS(c.svg,"linearGradient");i.id="linear-".concat(e);var o=[].slice.call(r);n.appendChild(i);var a=0;return o.map((function(t){var e=document.createElementNS(c.svg,"stop"),r={offset:"".concat(a,"%"),"stop-color":"".concat(t)};c.setAttr(e,r,!1),i.appendChild(e),a+=100/(o.length-1)})),n})),r(this,"circleSvg",(function(t,r){var n=t.index,i=t.colorCircle,a=t.stroke,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=document.createElementNS(c.svg,"top"===r?"path":"ellipse"),u={fill:"none",stroke:i,"stroke-width":a},p="top"===r?{class:"".concat(c.pieName,"-circle-").concat(n)}:u,d=e("top"===r?{d:o(50,50,42,0,0),"shape-rendering":"geometricPrecision","data-angle":s?0:"",style:"stroke-width: 5px !important;"}:{rx:42,ry:42,cx:50,cy:50,style:"stroke-width: 5px !important;"},p);return c.setAttr(l,d,!1),l})),r(this,"setAttr",(function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var n in e)r?t.setAttributeNS(null,n,e[n]):t.setAttribute(n,e[n])})),this.pieName=i,this.svg="http://www.w3.org/2000/svg";var a=document.querySelectorAll(".".concat(i)),s=[].slice.call(a);s.map((function(t,e){t.setAttribute("data-index",e+1)})),this.initial(s)}}();


